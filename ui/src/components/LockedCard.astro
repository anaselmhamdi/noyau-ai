---
interface Props {
  rank: number;
  headline: string;
  teaser: string;
}

const { rank, headline, teaser } = Astro.props;
---

<article class="group relative p-5 sm:p-6 bg-slate/50 border border-border/50 rounded-card overflow-hidden" data-rank={rank}>
  {/* Blur overlay */}
  <div class="absolute inset-0 backdrop-blur-[2px] bg-gradient-to-b from-transparent via-slate/30 to-slate/60 pointer-events-none z-10"></div>

  <div class="relative">
    {/* Header */}
    <div class="flex items-start gap-4">
      {/* Rank badge */}
      <div class="rank-badge-lg bg-bad/10 text-bad/60 shrink-0">
        {rank}
      </div>

      <div class="flex-1 min-w-0">
        {/* Headline - slightly faded */}
        <h2 class="text-base sm:text-lg font-semibold text-text/60 leading-tight tracking-tight">
          {headline}
        </h2>

        {/* Teaser */}
        <p class="mt-2 text-body text-muted/50 line-clamp-2">
          {teaser}
        </p>
      </div>
    </div>

    {/* Placeholder content */}
    <div class="mt-4 ml-14 sm:ml-16 space-y-3" aria-hidden="true">
      <div class="h-3 bg-border/20 rounded w-full"></div>
      <div class="h-3 bg-border/20 rounded w-5/6"></div>
      <div class="h-3 bg-border/20 rounded w-4/6"></div>
    </div>
  </div>

  {/* Hover unlock hint */}
  <div class="absolute inset-0 z-20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-slate/80 backdrop-blur-sm">
    <a
      href="#subscribe"
      class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-signal text-ink text-sm font-medium hover:bg-signal/90 transition-colors"
    >
      <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z" />
      </svg>
      <span>Unlock</span>
    </a>
  </div>
</article>

<style>
  .rank-badge-lg {
    @apply inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12;
    @apply font-mono text-lg sm:text-xl font-bold rounded-xl;
    @apply transition-all duration-hover;
  }
</style>
